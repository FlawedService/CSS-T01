CREATE TABLE APPCONFIG (ID INTEGER PRIMARY KEY NOT NULL, TOTALAMOUNTPERCENTAGE DOUBLE NOT NULL, AMOUNTTHRESHOLD DOUBLE, ELIGIBLEPERCENTAGE DOUBLE NOT NULL)
CREATE TABLE CUSTOMER (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, DESIGNATION VARCHAR(50) NOT NULL, PHONENUMBER INTEGER, VATNUMBER INTEGER NOT NULL UNIQUE, DISCOUNT_ID INTEGER NOT NULL, ADDRESS VARCHAR(50))
CREATE TABLE PRODUCT (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, DESCRIPTION VARCHAR(255), DISCOUNTELIGIBILITY SMALLINT default 0, FACEVALUE DOUBLE, PRODCOD INTEGER, QTY DOUBLE, UNIT_ID INTEGER)
CREATE TABLE SALEPRODUCT (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, QTY DOUBLE, PRODUCT_ID INTEGER, SALE_ID INTEGER)
CREATE TABLE SALE (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, DATE DATE, TOTAL DOUBLE, DISCOUNT_TOTAL DOUBLE, STATUS CHAR(1), CUSTOMER_ID INTEGER, EMPLOYEE_ID INTEGER)
CREATE TABLE DELIVERY (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL,SALE_ID INTEGER, PAY_CLIENT_ID INTEGER, DELIVERY_ADDRESS VARCHAR(20))
CREATE TABLE EMPLOYEE (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, DEPARTMENTID INTEGER, EMPLOYEE_STATUS CHAR(1))
CREATE TABLE DEPARTMENT (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, NAME VARCHAR(20) , PHONENUMBER INTEGER, MANAGER_ID INTEGER)
CREATE TABLE EMPLOYEEDEPARTMENT (ID INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY NOT NULL, EMPLOYEE_ID INTEGER, DEPARTMENT_ID INTEGER)
ALTER TABLE SALEPRODUCT ADD CONSTRAINT FK_SALEPRODUCT_PRODUCT_ID FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCT (ID)
ALTER TABLE SALEPRODUCT ADD CONSTRAINT FK_SALEPRODUCT_SALEPRODUCTS_ID FOREIGN KEY (SALE_ID) REFERENCES SALE (ID)
ALTER TABLE SALE ADD CONSTRAINT FK_SALE_CUSTOMER_ID FOREIGN KEY (CUSTOMER_ID) REFERENCES CUSTOMER (ID)
ALTER TABLE DELIVERY ADD CONSTRAINT FK_DELIVERY_SALE_ID FOREIGN KEY (SALE_ID) REFERENCES SALE (ID)
ALTER TABLE EMPLOYEE ADD CONSTRAINT FK_EMPLOYEE_DEPARTMENTID FOREIGN KEY (DEPARTMENTID) REFERENCES DEPARTMENT (ID)
ALTER TABLE EMPLOYEEDEPARTMENT ADD CONSTRAINT FK_EMPLOYEEDEPARTMENT_EMPLOYEE_ID FOREIGN KEY (EMPLOYEE_ID) REFERENCES EMPLOYEE (ID)
ALTER TABLE EMPLOYEEDEPARTMENT ADD CONSTRAINT FK_EMPLOYEEDEPARTMENT_DEPARTMENT_ID FOREIGN KEY (DEPARTMENT_ID) REFERENCES DEPARTMENT (ID)
INSERT INTO APPCONFIG VALUES (1, 0.1, 50, 0.15)
INSERT INTO PRODUCT (ID, PRODCOD, DESCRIPTION, FACEVALUE, QTY, DISCOUNTELIGIBILITY, UNIT_ID) VALUES (1, 123, 'Prod 1', 100, 500, 0, 1)
INSERT INTO PRODUCT (ID, PRODCOD, DESCRIPTION, FACEVALUE, QTY, DISCOUNTELIGIBILITY, UNIT_ID) VALUES (2, 124, 'Prod 2', 35, 1000, 1, 1)
INSERT INTO DEPARTMENT(ID,NAME,PHONENUMBER,MANAGER_ID) VALUES(1,'League', 213332134, 1)
INSERT INTO EMPLOYEE(ID,DEPARTMENTID,EMPLOYEE_STATUS) VALUES(1,1,'A')